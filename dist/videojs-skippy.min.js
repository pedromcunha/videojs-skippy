/**
 * videojs-skippy
 * @version 0.0.0
 * @copyright 2016 Pedro <pedro@younow.com>
 * @license MIT
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.videojsSkippy=e()}}(function(){return function e(n,t,o){function r(u,f){if(!t[u]){if(!n[u]){var d="function"==typeof require&&require;if(!f&&d)return d(u,!0);if(i)return i(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var l=t[u]={exports:{}};n[u][0].call(l.exports,function(e){var t=n[u][1][e];return r(t?t:e)},l,l.exports,e,n,t,o)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<o.length;u++)r(o[u]);return r}({1:[function(e,n,t){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,i=o(r),u={},f=0,d=!1,a=!1,l=void 0,s=0,c=0,p=!1,m={},v="",y=0,g=10,w=!1,h=0,T=function(e){h>=4||(d!=c?(E(1e3*h,e),p=1):2>p?(console.log("no progress recover"),E(3e3,e),p=2):console.log("die"))},x=function(e,n){var t=void 0,o=e.tech_.hls;if(o&&(l=o.playlists.media()),l.segments){d===!1&&(d=f),t=d!==!1?Math.floor(d):Math.floor(f),m[n]||(m[n]={});var r=Math.ceil(f);r%2!==0&&(r+=1),m[n][t]=l.segments[r/l.targetDuration>0?r/l.targetDuration-1:r/l.targetDuration].duration+r+.1,M(n,e)}},_=function(e){var n=m[v],t=Math.floor(f);n&&n[t]&&e.currentTime(n[t]),e.currentTime()>d&&!a&&(a=setTimeout(function(){d=!1},500))},M=function(e,n){n.reset(),n.src({src:e,type:"application/x-mpegURL"})},E=function(e,n){h++,setTimeout(function(){w?w():M(v,n),window.setTimeout(function(){h--},1e4)},e>0?e:0)},b=function(e,n){e.addClass("vjs-skippy"),v=e.el_.children[0].children[0].src,e.on("timeupdate",function(n){if(e){if(!d&&e.currentTime&&(f=e.currentTime()),e.paused()&&e.currentTime()===c){if(s++,s>=5)if(e.duration()===1/0)E(0,e);else{var t=2*(Math.floor(e.currentTime()/2)+1)+.1;e.currentTime(t),s=0}}else s=0;c=e.currentTime(),_(e)}}),e.on("error",function(){if(y++,e&&"application/x-mpegURL"===e.currentType_&&g>=y){var n=v;clearTimeout(a),a=!1,e.duration()===1/0?T(e):x(e,n)}})},j=function(e){var n=this;this.ready(function(){e||(e={}),e.maxErrors&&(g=e.maxErrors),e.onLiveError&&(w=e.onLiveError),b(n,i["default"].mergeOptions(u,e))})};i["default"].plugin("skippy",j),j.VERSION="0.0.0",t["default"]=j,n.exports=t["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});